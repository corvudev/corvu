---
import CopyToClipboard from '@components/docs/code/CopyToClipboard'
import RawCode from '@components/docs/code/RawCode.astro'

interface Props {
  code: string
  lang: 'html' | 'tsx' | 'js' | 'css' | 'bash'
  copyButton?: boolean
}

const { code, lang, copyButton } = Astro.props

const trimmedCode = code.trim()
---

<div
  class="not-prose relative mb-6 mt-4 grid rounded-md border-2 border-corvu-200"
>
  <RawCode code={trimmedCode} lang={lang} />
  {copyButton === true && <CopyToClipboard code={trimmedCode} client:visible />}
</div>
